<head>
  <title>CatanCount</title>
  <%= stylesheet_link_tag    "application", :media => "all" %>
  <%= javascript_include_tag "application" %>
  <%= csrf_meta_tags %>

	<script type="text/javascript">
		$(document).ready(function(){
		    var s1 = <%= raw @expected_series.to_json %>;
		    var s2 = <%= raw @actual_series.to_json %>;
				    
				// Can specify a custom tick Array.
		    // Ticks should match up one for each y value (category) in the series.
		    var ticks = ['2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
     
		    var plot1 = $.jqplot('chart1', [s1, s2], {
		        // The "seriesDefaults" option is an options object that will
		        // be applied to all series in the chart.
		        seriesDefaults:{
		            renderer:$.jqplot.BarRenderer,
		            rendererOptions: {fillToZero: true},
					      pointLabels: {show: true}
		        },
		        // Custom labels for the series are specified with the "label"
		        // option on the series option.  Here a series option object
		        // is specified for each series.
		        series:[
		            {color: '#43DE4D'},
		            {color: '#F04155'}
		        ],
		        // Show the legend and put it outside the grid, but inside the
		        // plot container, shrinking the grid to accomodate the legend.
		        // A value of "outside" would not shrink the grid and allow
		        // the legend to overflow the container.
		        axes: {
		            // Use a category axis on the x axis and use our custom ticks.
		            xaxis: {
		              renderer: $.jqplot.CategoryAxisRenderer,
	                ticks: ticks
									
		            },
		            // Pad the y axis just a little so bars can get close to, but
		            // not touch, the grid boundaries.  1.2 is the default padding.
		            yaxis: {
		                // pad: 1.2,
		                // 										marginLeft: 5,
		                // 										padLeft: 5,
		                // tickOptions: {formatString: '%d'}
		            }
		        },
						legend: {
						  show: false//,							
							//placement: 'outsideGrid'
						}
		    });
		});
	</script>
</head>
<body>
	<h1>Game ID: <%= raw @game_id %> </h1>
	
	<table>
		<tr>
			<td>
				Expected Values
			</td>
			<td class="legend_cell expected">
				&nbsp;
			</td>	 
		</tr>
		<tr>
			<td>
				Actual Values
			</td>
			<td class="legend_cell actual">
				&nbsp;
			</td>	 
		</tr>
	</table>
	<div id="chart1" style="max-width: 80%; min-height: 250px;"></div>
	<%= render 'form' %>
	
	<br /><br /><br />
	<h3>Rolls for this game (most recent first)</h3>
	<table>
	<% @rolls.each do |roll| %>
	  <tr>
	    <td class="roll_table_cell"><%= roll.total %></td>
	    <td class="roll_table_cell"><%= link_to image_tag('delete.png', :height => '30'), roll, method: :delete %></td>
		
	  </tr>
	<% end %>
	</table>
	<br />
	Total rolls for this game: <%= @rolls.count %>
</body>
</html>
